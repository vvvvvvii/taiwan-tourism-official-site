{"version":3,"sources":["webpack:///./src/views/AttractionList.vue","webpack:///./src/views/AttractionList.vue?524b"],"names":["class","optionListShow","showOptions","optionListContent","changeoptionListContent","popularScenicSpots","spot","spotIndex","Name","href","title","src","Picture","PictureUrl1","alt","PictureDescription1","City","data","scenicSpots","methods","getAllScenicSpotData","this","axios","get","headers","getAuthorizationHeader","then","res","filter","Description","Object","keys","length","includes","forEach","Address","split","Classes","Class1","push","Class2","Class3","catch","err","console","log","GMTString","Date","toGMTString","ShaObj","setHMACKey","update","HMAC","getHMAC","Authorization","e","target","innerHTML","created","__exports__","render"],"mappings":"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","file":"js/chunk-2d2105af.750f2df5.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <!-- 選單 -->\n    <div class=\"section\">\n      <p class=\"mb-10\">\n        首頁\n        <i class=\"bi bi-chevron-right ms-4\"></i>\n        <span class=\"ms-4 pb-1 border-bottom border-dark\">人氣景點探索</span>\n      </p>\n      <h2 class=\"fs-xxxl fw-bold text-center mb-4\">景點列表</h2>\n      <p class=\"fs-lg text-center mb-10\">地點</p>\n      <ul class=\"d-flex justify-content-center\">\n        <li\n          class=\"btn btn-lg btn-outline-warning fs-lg position-relative\"\n          :class=\"{ active: optionListShow }\"\n          @click=\"showOptions\"\n        >\n          <div class=\"d-flex\">\n            <p class=\"fs-md\">{{ optionListContent }}</p>\n            <i class=\"bi bi-chevron-down ms-10\"></i>\n          </div>\n          <ul v-show=\"optionListShow\" class=\"navbar-option-list\" @click=\"changeoptionListContent\">\n            <li>台北</li>\n            <li>新北</li>\n            <li>桃園</li>\n            <li>新竹</li>\n            <li>苗栗</li>\n            <li>台中</li>\n            <li>南投</li>\n          </ul>\n        </li>\n        <li class=\"btn btn-sm btn-outline-warning fs-lg ms-10\">熱門景點</li>\n        <li class=\"btn btn-sm btn-outline-warning fs-lg ms-5\">網美景點</li>\n        <li class=\"btn btn-sm btn-outline-warning fs-lg ms-5\">戶外景點</li>\n        <li class=\"btn btn-sm btn-outline-warning fs-lg ms-5\">鄉下景點</li>\n        <li class=\"btn btn-sm btn-outline-warning fs-lg ms-5\">DIY 景點</li>\n      </ul>\n    </div>\n    <!-- 列表 -->\n    <div class=\"section pt-0\">\n      <div class=\"row\">\n        <template v-for=\"(spot, spotIndex) in popularScenicSpots\" :key=\"spot.Name\">\n          <div class=\"col-4\" :class=\"{ 'mb-10': spotIndex < 9 }\" v-if=\"spotIndex < 12\">\n            <a href=\"#\" :title=\"spot.Name\" class=\"text-dark\">\n              <div class=\"position-relative mb-4\">\n                <img\n                  :src=\"spot.Picture.PictureUrl1\"\n                  :alt=\"spot.Picture.PictureDescription1\"\n                  class=\"card-img\"\n                />\n                <h4 class=\"card-img-title\">{{ spot.City }}</h4>\n              </div>\n              <p class=\"fs-md text-center\">{{ spot.Name }}</p>\n            </a>\n          </div>\n        </template>\n      </div>\n    </div>\n    <!-- 頁碼 -->\n    <div class=\"section d-flex justify-content-center align-items-center pt-0\">\n      <div class=\"btn btn-success btn-pagination\">\n        <i class=\"bi bi-chevron-left\"></i>\n      </div>\n      <p class=\"ms-10\">1/4</p>\n      <div class=\"btn btn-success btn-pagination ms-10\">\n        <i class=\"bi bi-chevron-right\"></i>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport JsSHA from 'jssha';\n\nexport default {\n  data() {\n    return {\n      scenicSpots: [],\n      popularScenicSpots: [],\n      optionListShow: false,\n      optionListContent: '地區',\n    };\n  },\n  methods: {\n    // 取得、整理景點資料\n    getAllScenicSpotData() {\n      this.axios\n        .get('https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?$format=JSON', {\n          headers: this.getAuthorizationHeader(),\n        })\n        .then((res) => {\n          this.scenicSpots = res.data;\n          // 篩出人氣景點\n          this.popularScenicSpots = this.scenicSpots.filter(\n            (spot) => spot.Description\n              && Object.keys(spot.Picture).length !== 0\n              && spot.Description.includes('熱門'),\n          );\n          // 如果人氣景點裡沒有 City 屬性，補上去\n          this.popularScenicSpots.forEach((spot, spotIndex) => {\n            if (Object.keys(spot).includes('City') === false) {\n              this.popularScenicSpots[spotIndex].City = spot.Address.includes('縣')\n                ? `${spot.Address.split('縣')[0]}縣`\n                : `${spot.Address.split('市')[0]}市`;\n            }\n          });\n          // 若景點有 Class1 / Class2 / Class3 把景點的分類放進 scenicSpots 自建陣列 Classes\n          this.scenicSpots.forEach((spot, spotIndex) => {\n            this.scenicSpots[spotIndex].Classes = [];\n            if (spot.Class1) {\n              this.scenicSpots[spotIndex].Classes.push(spot.Class1);\n            }\n            if (spot.Class2) {\n              this.scenicSpots[spotIndex].Classes.push(spot.Class2);\n            }\n            if (spot.Class3) {\n              this.scenicSpots[spotIndex].Classes.push(spot.Class3);\n            }\n          });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    // api header setting\n    getAuthorizationHeader() {\n      const GMTString = new Date().toGMTString();\n      const ShaObj = new JsSHA('SHA-1', 'TEXT');\n      ShaObj.setHMACKey(process.env.VUE_APP_PATH, 'TEXT');\n      ShaObj.update(`x-date: ${GMTString}`);\n      const HMAC = ShaObj.getHMAC('B64');\n      const Authorization = `hmac username=\"${process.env.VUE_APP_API}\",algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"${HMAC}\"`;\n      return { Authorization, 'X-Date': GMTString };\n    },\n    showOptions() {\n      this.optionListShow = !this.optionListShow;\n    },\n    changeoptionListContent(e) {\n      if (e.target.innerHTML.length === 2) {\n        this.optionListContent = e.target.innerHTML;\n      }\n    },\n  },\n  created() {\n    this.getAllScenicSpotData();\n  },\n};\n</script>\n","import { render } from \"./AttractionList.vue?vue&type=template&id=6f9ab2c0\"\nimport script from \"./AttractionList.vue?vue&type=script&lang=js\"\nexport * from \"./AttractionList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/weiliu/Desktop/PROJECT/taiwan-tourism-official-site/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}